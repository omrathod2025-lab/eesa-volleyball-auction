<!DOCTYPE html>
<html>
<head>
<title>EESA Volleyball Auction</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: white;
    text-align: center;
    margin: 0;
}

h1 {
    font-size: 42px;
    margin-top: 20px;
}

.set-display {
    font-size: 22px;
    color: #38bdf8;
    margin-bottom: 10px;
}

.player-card {
    background: #1e293b;
    width: 420px;
    margin: 20px auto;
    padding: 25px;
    border-radius: 18px;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
}

.player-card img {
    width: 200px;
    height: 200px;
    object-fit: cover;
    border-radius: 15px;
    margin-bottom: 15px;
}

.section {
    margin: 20px;
}

button {
    padding: 10px 20px;
    font-size: 16px;
    margin: 5px;
    cursor: pointer;
    border-radius: 8px;
    border: none;
}

button:hover {
    opacity: 0.9;
}

input, select {
    padding: 8px;
    font-size: 15px;
    margin: 5px;
}

.container {
    display: flex;
    justify-content: space-around;
    margin: 30px;
}

.team {
    background: #1e293b;
    width: 23%;
    padding: 15px;
    border-radius: 12px;
}
</style>
</head>

<body>

<h1>üèê EESA Volleyball Auction</h1>

<div class="set-display" id="setName"></div>

<div class="player-card" id="currentPlayer">
    Click Next Player to Start
</div>

<div class="section">
    <button onclick="nextPlayer()">Next Player</button><br>
    <input type="number" id="bidAmount" placeholder="Enter Bid (Cr)">
    <select id="teamSelect">
        <option>Team Ian</option>
        <option>Team Navin</option>
        <option>Team Kevin</option>
        <option>Team Shailesh</option>
    </select>
    <button onclick="sellPlayer()">SOLD</button>
</div>

<h2>Teams</h2>

<div class="container">
    <div class="team" id="Team Ian"></div>
    <div class="team" id="Team Navin"></div>
    <div class="team" id="Team Kevin"></div>
    <div class="team" id="Team Shailesh"></div>
</div>

<script>

let purseLimit = 60;

let teams = {
    "Team Ian": { purse: purseLimit, players: [] },
    "Team Navin": { purse: purseLimit, players: [] },
    "Team Kevin": { purse: purseLimit, players: [] },
    "Team Shailesh": { purse: purseLimit, players: [] }
};

// üî• ADD ALL PLAYERS HERE
let players = [

    {name:"Aditya Jadhav", year:"TY", role:"Spiker"},
    {name:"Aditya Thakur", year:"FY", role:"Setter"},
    {name:"Advay Saraf", year:"SY", role:"Libero"},
    {name:"Adwait Deshpande", year:"FY", role:"All-Rounder"},
    {name:"Amar Navne", year:"SY", role:"Spiker"},
    {name:"Aniket Mhetar", year:"SY", role:"Setter"},
    {name:"Aniruddh Nalli", year:"BTECH", role:"Libero"},
    {name:"Arnav Ghatandrekarr", year:"FY", role:"Spiker"},
    {name:"Avinash Bhadange", year:"MTECH", role:"All-Rounder"},
    {name:"Bhavesh Shah", year:"FY", role:"Libero"},
    {name:"Daksh Kotak", year:"FY", role:"Libero"},
    {name:"Kartik Kendre", year:"SY", role:"Spiker"},
    {name:"Mayur Badgujar", year:"FY", role:"Setter"},
    {name:"Om Jaiswal", year:"BTECH", role:"All-Rounder"}

];

let sets = ["Libero","Setter","Spiker","All-Rounder"];
let currentSetIndex = 0;
let currentPlayerIndex = -1;
let currentSetPlayers = [];

function startSet() {

    if(currentSetIndex >= sets.length) {
        document.getElementById("currentPlayer").innerHTML = "Auction Completed";
        return;
    }

    let role = sets[currentSetIndex];
    document.getElementById("setName").innerHTML = "Current Set: " + role;

    currentSetPlayers = players.filter(p => p.role === role);
    currentPlayerIndex = -1;
}

function nextPlayer() {

    if(currentSetPlayers.length === 0) startSet();

    currentPlayerIndex++;

    if(currentPlayerIndex >= currentSetPlayers.length) {
        currentSetIndex++;
        startSet();
        nextPlayer();
        return;
    }

    let p = currentSetPlayers[currentPlayerIndex];
    let base = (p.year === "FY") ? 1 : 2;

    // AUTO PHOTO GENERATION
    let imageFile = p.name.replace(/ /g, "_") + ".jpg";

    document.getElementById("currentPlayer").innerHTML =
        "<img src='images/" + imageFile + "' onerror=\"this.src='https://via.placeholder.com/200';\">" +
        "<h2>" + p.name + "</h2>" +
        "<p><b>Role:</b> " + p.role + "</p>" +
        "<p><b>Year:</b> " + p.year + "</p>" +
        "<p><b>Base Price:</b> " + base + " Cr</p>";
}

function sellPlayer() {

    let bid = parseFloat(document.getElementById("bidAmount").value);
    let teamName = document.getElementById("teamSelect").value;
    let team = teams[teamName];
    let player = currentSetPlayers[currentPlayerIndex];

    if(!player) return alert("No player selected!");
    if(!bid) return alert("Enter bid amount!");
    if(team.purse < bid) return alert("Not enough purse!");

    team.purse -= bid;
    team.players.push(player.name + " (" + bid + " Cr)");
    updateTeams();

    nextPlayer();
}

function updateTeams() {
    for(let t in teams) {
        document.getElementById(t).innerHTML =
